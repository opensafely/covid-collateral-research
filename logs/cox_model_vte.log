
. cap mkdir ./output/graphs

. cap mkdir ./output/tempdata

. cap mkdir ./output/tables

. 
. di "`outcome'"
vte

. 
. * open file to write results to
. file open tablecontent using ./output/tables/`outcome'_cox_models.txt, write 
> text replace
(note: file ./output/tables/vte_cox_models.txt not found)

. file write tablecontent ("period") _tab ("ethnic_group") _tab ("denominator")
>  _tab ("events") _tab ("total_person_wks") _tab ("Rate") _tab ("unadj_hr") _t
> ab ///
> ("unadj_ci") _tab ("unadj_lci") _tab ("unadj_uci") _tab ("p_adj_hr") _tab ("p
> _adj_ci") _tab ("p_adj_lci") _tab ("p_adj_uci") _tab ("f_adj_hr") _tab ("f_ad
> j_ci") _tab ("f_adj_lci") _tab ("f_adj_uci") _tab  _n

. 
. foreach period in pre pandemic wave1 easing1 wave2 easing2 wave3 easing3 {
  2. use ./output/prep_survival_`period', clear
  3. 
.     * Drop events that occur on index date
.     drop if `outcome'_admit_date==index_date
  4. 
.     * Update study population for diabetes and respiratory outcomes
.     drop if has_t1_diabetes==0 & "`outcome'"=="t1dm"
  5.     drop if has_t2_diabetes==0 & "`outcome'"=="t2dm"
  6.     drop if diabetes_subgroup==0 & "`outcome'"=="dm_keto"
  7.     drop if has_asthma==0 & "`outcome'"=="asthma"
  8.     drop if has_copd==1 & "`outcome'"=="copd"
  9. 
.     * Cox model for each outcome category
.     * Generate flags and end dates for each outcome
.     gen `outcome'_admit=(`outcome'_admit_date!=.)
 10.     tab `outcome'_admit
 11.     count if `outcome'_admit_date!=.
 12.     if r(N) > 10 {
 13.         gen `outcome'_end = end_date
 14.         replace `outcome'_end = `outcome'_admit_date if `outcome'_admit==1
 15. 
.         stset `outcome'_end, fail(`outcome'_admit) id(patient_id) enter(index
> _date) origin(index_date) 
 16.         * Kaplan-Meier plot
.         sts graph, by(eth5) ylabel(.75(.05)1)
 17.         graph export ./output/graphs/km_`outcome'_`period'_eth.svg, as(svg
> ) replace
 18.         * Cox model - crude
.         stcox i.eth5, strata(stp)
 19.         estimates save "./output/tempdata/crude_`outcome'_eth", replace 
 20.         eststo model1
 21.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/surv_crude_`outcome'_eth", replace) idstr("crude_`outcome'_eth") 
 22.         *estat phtest, detail
.         * Cox model - age and gender adjusted
.         stcox i.eth5 i.age_cat i.male, strata(stp)
 23.         estimates save "./output/tempdata/model1_`outcome'_eth", replace 
 24.         eststo model2
 25.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/surv_model1_`outcome'_eth", replace) idstr("model1_`outcome'_eth") 
 26.         *estat phtest, detail
.         * Cox model - fully adjusted
.         stcox i.eth5 i.age_cat i.male i.urban_rural_bin i.imd i.shielded, str
> ata(stp)
 27.         estimates save "./output/tempdata/model2_`outcome'_eth", replace 
 28.         eststo model3
 29.         parmest, label eform format(estimate p lb ub) saving("./output/tem
> pdata/surv_model2_`outcome'_eth", replace) idstr("model2_`outcome'_eth") 
 30.         *estat phtest, detail
.         esttab model1 model2 model3 using "./output/tables/`outcome'_estout_t
> able_eth_`period'.txt", b(a2) ci(2) label wide compress eform ///
>         title ("`outcome'") ///
>         varlabels(`e(labels)') ///
>         stats(N_outcome) ///
>         append 
 31.         eststo clear
 32.     * Write results to table
.         * eth16 labelled columns
. 
.         local lab1: label eth5 1
 33.         local lab2: label eth5 2
 34.         local lab3: label eth5 3
 35.         local lab4: label eth5 4
 36.         local lab5: label eth5 5
 37.         /* counts */
.         
.         * First row, eth16 = 1 (White British) reference cat
.         qui safecount if eth5==1
 38.         local denominator = r(N)
 39.         qui safecount if eth5 == 1 & `outcome'_admit == 1
 40.         local event = r(N)
 41.         bysort eth5: egen total_follow_up = total(_t)
 42.         qui su total_follow_up if eth5 == 1
 43.         local person_mth = r(mean)/30
 44.         local rate = 100000*(`event'/`person_mth')
 45.         if `event'>10 & `event'!=. {
 46.             file write tablecontent  ("`period'") _tab ("`lab1'") _tab (`d
> enominator') _tab (`event') _tab %10.0f (`person_mth') _tab %3.2f (`rate') _t
> ab
 47.             file write tablecontent ("1.00") _tab _tab ("1.00") _tab _tab 
> _tab _tab ("1.00") _n
 48.             }
 49.         else {
 50.             file write tablecontent ("`period'") _tab ("`lab`eth''") _tab 
> ("redact") _n
 51.             continue
 52.         }
 53.     * outcomesequent ethnic groups
.         forvalues eth=2/5 {
 54.             qui safecount if eth5==`eth'
 55.             local denominator = r(N)
 56.             qui safecount if eth5 == `eth' & `outcome'_admit == 1
 57.             local event = r(N)
 58.             qui su total_follow_up if eth5 == `eth'
 59.             local person_mth = r(mean)/30
 60.             local rate = 100000*(`event'/`person_mth')
 61.             if `event'>10 & `event'!=. {
 62.                 file write tablecontent ("`period'") _tab ("`lab`eth''") _
> tab (`denominator') _tab (`event') _tab %10.0f (`person_mth') _tab %3.2f (`ra
> te') _tab  
 63.                 cap estimates use "./output/tempdata/crude_`outcome'_eth" 
 64.                 cap lincom `eth'.eth5, eform
 65.                 file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4
> .2f (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub))
>  _tab
 66.                 cap estimates clear
 67.                 cap estimates use "./output/tempdata/model1_`outcome'_eth"
>  
 68.                 cap lincom `eth'.eth5, eform
 69.                 file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4
> .2f (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub))
>   _tab
 70.                 cap estimates clear
 71.                 cap estimates use "./output/tempdata/model2_`outcome'_eth"
>  
 72.                 cap lincom `eth'.eth5, eform
 73.                 file write tablecontent  %4.2f (r(estimate)) _tab ("(") %4
> .2f (r(lb)) (" - ") %4.2f (r(ub)) (")") _tab %4.2f (r(lb)) _tab %4.2f (r(ub))
>  _n
 74.                 cap estimates clear
 75.             }
 76.             else {
 77.                 file write tablecontent ("`period'") _tab ("`lab`eth''") _
> tab ("redact") _n
 78.                 continue
 79.             }
 80.         }  //end ethnic group
 81. drop total_follow_up
 82.     }
 83. else { 
 84.     file write tablecontent ("`period'") _tab ("redact") _n
 85.     continue
 86. }
 87. } //end outcomes
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        976       97.60       97.60
          1 |         24        2.40      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  24
(24 real changes made)

                id:  patient_id
     failure event:  vte_admit != 0 & vte_admit < .
obs. time interval:  (vte_end[_n-1], vte_end]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      1,000  total observations
          0  exclusions
------------------------------------------------------------------------------
      1,000  observations remaining, representing
      1,000  subjects
         24  failures in single-failure-per-subject data
    742,726  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =       752

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id
(note: file ./output/graphs/km_vte_pre_eth.svg not found)
(file ./output/graphs/km_vte_pre_eth.svg written in SVG format)

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log likelihood = -4.7184989
Iteration 1:   log likelihood =  -3.428052
Iteration 2:   log likelihood =  -3.251155
Iteration 3:   log likelihood = -3.1986849
Iteration 4:   log likelihood = -3.1801923
Iteration 5:   log likelihood = -3.1734824
Iteration 6:   log likelihood = -3.1710262
Iteration 7:   log likelihood = -3.1701243
Iteration 8:   log likelihood = -3.1697927
Iteration 9:   log likelihood = -3.1696708
Iteration 10:  log likelihood = -3.1696259
Iteration 11:  log likelihood = -3.1696094
Iteration 12:  log likelihood = -3.1696034
Iteration 13:  log likelihood = -3.1696011
Iteration 14:  log likelihood = -3.1696003
Iteration 15:  log likelihood =    -3.1696
Iteration 16:  log likelihood = -3.1695999
Iteration 17:  log likelihood = -3.1695998
Iteration 18:  log likelihood = -3.1695998
Iteration 19:  log likelihood = -3.1695998
Iteration 20:  log likelihood = -3.1695998
Iteration 21:  log likelihood = -3.1695998
Iteration 22:  log likelihood = -3.1695998
Iteration 23:  log likelihood = -3.1695998
Iteration 24:  log likelihood = -3.1695998
Iteration 25:  log likelihood = -3.1695998
Iteration 26:  log likelihood = -3.1695998
Iteration 27:  log likelihood = -3.1695998
Iteration 28:  log likelihood = -3.1695998
Iteration 29:  log likelihood = -3.1695998
Iteration 30:  log likelihood = -3.1695998
Iteration 31:  log likelihood = -3.1695998
Iteration 32:  log likelihood = -3.1695998
Iteration 33:  log likelihood = -3.1695998
Refining estimates:
Iteration 0:   log likelihood = -3.1695998
Iteration 1:   log likelihood = -3.1695998
Iteration 2:   log likelihood = -3.1695998

Stratified Cox regr. -- no ties

No. of subjects =        1,000                  Number of obs    =          50
No. of failures =           24
Time at risk    =       742726
                                                LR chi2(3)       =        3.10
Log likelihood  =   -3.1695998                  Prob > chi2      =      0.3768

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |   2.33e-06   245.0247    -0.00   1.000            0           .
      Black  |   1.36e+10          .        .       .            .           .
      Mixed  |   1.66e+10   2.59e+10    15.10   0.000     7.82e+08    3.52e+11
      Other  |   2.58e-06   313.9116    -0.00   1.000            0           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/crude_vte_eth.ster not found)
file ./output/tempdata/crude_vte_eth.ster saved
(note: file ./output/tempdata/surv_crude_vte_eth.dta not found)
file ./output/tempdata/surv_crude_vte_eth.dta saved

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log likelihood = -4.1743873
Iteration 1:   log likelihood = -2.4737816
Iteration 2:   log likelihood =  -2.214651
Iteration 3:   log likelihood = -2.1298616
Iteration 4:   log likelihood = -2.0981595
Iteration 5:   log likelihood = -2.0863533
Iteration 6:   log likelihood = -2.0819879
Iteration 7:   log likelihood = -2.0803788
Iteration 8:   log likelihood = -2.0797864
Iteration 9:   log likelihood = -2.0795684
Iteration 10:  log likelihood = -2.0794882
Iteration 11:  log likelihood = -2.0794587
Iteration 12:  log likelihood = -2.0794479
Iteration 13:  log likelihood = -2.0794439
Iteration 14:  log likelihood = -2.0794424
Iteration 15:  log likelihood = -2.0794419
Iteration 16:  log likelihood = -2.0794417
Iteration 17:  log likelihood = -2.0794416
Iteration 18:  log likelihood = -2.0794416
Iteration 19:  log likelihood = -2.0794415
Iteration 20:  log likelihood = -2.0794415
Iteration 21:  log likelihood = -2.0794415
Iteration 22:  log likelihood = -2.0794415
Iteration 23:  log likelihood = -2.0794415
Iteration 24:  log likelihood = -2.0794415
Iteration 25:  log likelihood = -2.0794415
Iteration 26:  log likelihood = -2.0794415
Iteration 27:  log likelihood = -2.0794415
Iteration 28:  log likelihood = -2.0794415
Iteration 29:  log likelihood = -2.0794415
Iteration 30:  log likelihood = -2.0794415
Iteration 31:  log likelihood = -2.0794415
Iteration 32:  log likelihood = -2.0794415
Iteration 33:  log likelihood = -2.0794415
Refining estimates:
Iteration 0:   log likelihood = -2.0794415
Iteration 1:   log likelihood = -2.0794415

Stratified Cox regr. -- no ties

No. of subjects =          788                  Number of obs    =          43
No. of failures =           21
Time at risk    =       584849
                                                LR chi2(7)       =        4.19
Log likelihood  =   -2.0794415                  Prob > chi2      =      0.7577

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |   2.32e-07   28.44341    -0.00   1.000            0           .
      Black  |   8.73e+08   2.98e+13     0.00   1.000            0           .
      Mixed  |   3.33e+26          .        .       .            .           .
      Other  |   2.32e-07   28.44341    -0.00   1.000            0           .
             |
     age_cat |
41 - 60 y..  |   1.15e-09   .0000391    -0.00   1.000            0           .
61 - 80 y..  |          1   1.74e+08     0.00   1.000            0           .
  >80 years  |   2.75e-25   2.51e-17    -0.00   1.000            0           .
             |
        male |
       Male  |   4.37e+08   1.49e+13     0.00   1.000            0           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/model1_vte_eth.ster not found)
file ./output/tempdata/model1_vte_eth.ster saved
(note: file ./output/tempdata/surv_model1_vte_eth.dta not found)
file ./output/tempdata/surv_model1_vte_eth.dta saved

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

note: 5.imd omitted because of collinearity
note: 1.shielded omitted because of collinearity
Iteration 0:   log likelihood = -4.1743873
Iteration 1:   log likelihood = -.02379764
Iteration 2:   log likelihood = -.00870304
Iteration 3:   log likelihood = -.00319648
Iteration 4:   log likelihood = -.00117568
Iteration 5:   log likelihood =  -.0004326
Iteration 6:   log likelihood = -.00015919
Iteration 7:   log likelihood = -.00005858
Iteration 8:   log likelihood = -.00002156
Iteration 9:   log likelihood = -7.931e-06
Iteration 10:  log likelihood = -2.918e-06
Iteration 11:  log likelihood = -1.074e-06
Iteration 12:  log likelihood = -3.950e-07
Iteration 13:  log likelihood = -1.453e-07
Iteration 14:  log likelihood = -5.346e-08
Iteration 15:  log likelihood = -1.967e-08
Iteration 16:  log likelihood = -7.235e-09
Iteration 17:  log likelihood = -2.662e-09
Iteration 18:  log likelihood = -9.792e-10
Iteration 19:  log likelihood = -3.602e-10
Iteration 20:  log likelihood = -1.325e-10
Iteration 21:  log likelihood = -4.875e-11
Iteration 22:  log likelihood = -1.794e-11
Iteration 23:  log likelihood = -6.597e-12
Iteration 24:  log likelihood = -2.427e-12
Iteration 25:  log likelihood = -8.953e-13
Iteration 26:  log likelihood = -3.340e-13
Iteration 27:  log likelihood = -1.208e-13
Iteration 28:  log likelihood = -4.263e-14
Iteration 29:  log likelihood = -1.421e-14
Iteration 30:  log likelihood = -7.105e-15
Iteration 31:  log likelihood =          0
Refining estimates:
Iteration 0:   log likelihood =          0
Iteration 1:   log likelihood =          0

Stratified Cox regr. -- no ties

No. of subjects =          788                  Number of obs    =          43
No. of failures =           21
Time at risk    =       584849
                                                LR chi2(10)      =        8.35
Log likelihood  =            0                  Prob > chi2      =      0.5948

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |   1.70e-23   9.81e-15    -0.00   1.000            0           .
      Black  |   2.88e-12    .001038    -0.00   1.000            0           .
      Mixed  |   2.18e-34          .        .       .            .           .
      Other  |   2.27e+15   4.98e+23     0.00   1.000            0           .
             |
     age_cat |
41 - 60 y..  |   410206.8   5.82e+13     0.00   1.000            0           .
61 - 80 y..  |   1.748442          .        .       .            .           .
  >80 years  |   3.49e+11   1.12e+20     0.00   1.000            0           .
             |
        male |
       Male  |   3.36e-06    676.016    -0.00   1.000            0           .
             |
urban_rura~n |
      Urban  |   2.01e+16          .        .       .            .           .
             |
         imd |
          1  |   1.16e+22   8.31e+30     0.00   1.000            0           .
          2  |   6.12e+36   8.66e+45     0.00   1.000            0           .
          3  |   1.748442   9.93e+08     0.00   1.000            0           .
          4  |   5.50e+27   3.17e+36     0.00   1.000            0           .
          5  |          1  (omitted)
             |
  1.shielded |          1  (omitted)
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/tempdata/model2_vte_eth.ster not found)
file ./output/tempdata/model2_vte_eth.ster saved
(note: file ./output/tempdata/surv_model2_vte_eth.dta not found)
file ./output/tempdata/surv_model2_vte_eth.dta saved
(note: file ./output/tables/vte_estout_table_eth_pre.txt not found)
(output written to ./output/tables/vte_estout_table_eth_pre.txt)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        973       97.30       97.30
          1 |         27        2.70      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  27
(27 real changes made)

                id:  patient_id
     failure event:  vte_admit != 0 & vte_admit < .
obs. time interval:  (vte_end[_n-1], vte_end]
 enter on or after:  time index_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time index_date

------------------------------------------------------------------------------
      1,000  total observations
          1  observation ends on or before enter()
------------------------------------------------------------------------------
        999  observations remaining, representing
        999  subjects
         27  failures in single-failure-per-subject data
    723,535  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =       768

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id
(note: file ./output/graphs/km_vte_pandemic_eth.svg not found)
(file ./output/graphs/km_vte_pandemic_eth.svg written in SVG format)

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log likelihood =          0
Refining estimates:
Iteration 0:   log likelihood =          0

Stratified Cox regr. -- no ties

No. of subjects =          999                  Number of obs    =          50
No. of failures =           27
Time at risk    =       723535
                                                LR chi2(0)       =        0.00
Log likelihood  =            0                  Prob > chi2      =           .

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |          1  (omitted)
      Black  |          1  (omitted)
      Mixed  |          1  (omitted)
      Other  |          1  (omitted)
------------------------------------------------------------------------------
                                                             Stratified by stp
file ./output/tempdata/crude_vte_eth.ster saved
file ./output/tempdata/surv_crude_vte_eth.dta saved

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

Iteration 0:   log likelihood =          0
Refining estimates:
Iteration 0:   log likelihood =          0

Stratified Cox regr. -- no ties

No. of subjects =          774                  Number of obs    =          38
No. of failures =           18
Time at risk    =       562037
                                                LR chi2(0)       =        0.00
Log likelihood  =            0                  Prob > chi2      =           .

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |          1  (omitted)
      Black  |          1  (omitted)
      Mixed  |          1  (omitted)
      Other  |          1  (omitted)
             |
     age_cat |
41 - 60 y..  |          1  (omitted)
61 - 80 y..  |          1  (omitted)
  >80 years  |          1  (omitted)
             |
        male |
       Male  |          1  (omitted)
------------------------------------------------------------------------------
                                                             Stratified by stp
file ./output/tempdata/model1_vte_eth.ster saved
file ./output/tempdata/surv_model1_vte_eth.dta saved

         failure _d:  vte_admit
   analysis time _t:  (vte_end-origin)
             origin:  time index_date
  enter on or after:  time index_date
                 id:  patient_id

note: 1.shielded omitted because of collinearity
Iteration 0:   log likelihood =          0
Refining estimates:
Iteration 0:   log likelihood =          0

Stratified Cox regr. -- no ties

No. of subjects =          774                  Number of obs    =          38
No. of failures =           18
Time at risk    =       562037
                                                LR chi2(0)       =        0.00
Log likelihood  =            0                  Prob > chi2      =           .

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        eth5 |
South Asian  |          1  (omitted)
      Black  |          1  (omitted)
      Mixed  |          1  (omitted)
      Other  |          1  (omitted)
             |
     age_cat |
41 - 60 y..  |          1  (omitted)
61 - 80 y..  |          1  (omitted)
  >80 years  |          1  (omitted)
             |
        male |
       Male  |          1  (omitted)
             |
urban_rura~n |
      Urban  |          1  (omitted)
             |
         imd |
          1  |          1  (omitted)
          2  |          1  (omitted)
          3  |          1  (omitted)
          4  |          1  (omitted)
          5  |          1  (omitted)
             |
  1.shielded |          1  (omitted)
------------------------------------------------------------------------------
                                                             Stratified by stp
file ./output/tempdata/model2_vte_eth.ster saved
file ./output/tempdata/surv_model2_vte_eth.dta saved
(note: file ./output/tables/vte_estout_table_eth_pandemic.txt not found)
(output written to ./output/tables/vte_estout_table_eth_pandemic.txt)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        998       99.80       99.80
          1 |          2        0.20      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  2
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        995       99.50       99.50
          1 |          5        0.50      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  5
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        993       99.30       99.30
          1 |          7        0.70      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  7
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |      1,000      100.00      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  0
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        998       99.80       99.80
          1 |          2        0.20      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  2
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)
(0 observations deleted)

  vte_admit |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        996       99.60       99.60
          1 |          4        0.40      100.00
------------+-----------------------------------
      Total |      1,000      100.00
  4

. file close tablecontent

. 
. log close
      name:  <unnamed>
       log:  /workspace/logs/cox_model_vte.log
  log type:  text
 closed on:   9 Aug 2022, 15:31:07
-------------------------------------------------------------------------------
